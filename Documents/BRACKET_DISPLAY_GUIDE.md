# 賽程對戰圖顯示指南

## 三個角色的對戰圖視角

---

## 1. 主辦方視角

**位置**：賽事儀表板 → 賽程管理 Tab  
**路由**：`/organizer/tournaments/:id`  
**使用組件**：`BracketView`

### 顯示內容

#### 正常比賽

- **選手名稱**：顯示真實姓名（例如：王小明）
- **狀態標籤**：
  - 🟢 已完成
  - 🔵 已排程
  - 🟠 進行中
  - ⚪ 等待場地
  - ⚪ 等待選手
- **場地資訊**：📍 場地 A
- **比分**：已完成的比賽顯示比分
- **勝者高亮**：橘色邊框 + 淺橘背景

#### 輪空場次（BYE）

- **選手顯示**：
  - 有對手：「王小明」
  - 無對手：「--- 本輪輪空 ---」
- **狀態**：已完成（自動）
- **提示訊息**：
  - ✓ 本場次無對手，已自動晉級下一輪

#### 待晉級場次

- **選手顯示**：「待晉級」
- **狀態**：等待選手
- **提示訊息**：
  - ⏳ 等待對手晉級

### 輪次標籤

- 第 1 輪
- 第 2 輪
- 八強
- 準決賽
- 季軍賽
- 決賽

---

## 2. 紀錄員視角

**位置**：我的任務 → 我的賽事 Tab → 點擊賽事  
**路由**：`/scorer/tournaments/:id`  
**使用組件**：`TournamentMatches`（自定義）

### 顯示內容

#### 賽事資訊卡

- **標題**：所有場次
- **說明**：點擊場次進入記錄畫面
- **統計**：
  - 共 X 場比賽
  - Y 場已完成

#### 場次卡片（可點擊）

**正常比賽**：

- **狀態標籤**：已排程 / 進行中 / 已完成（顏色區分）
- **場地資訊**：📍 場地 A
- **選手對戰**：
  - 王小明 vs 李小華
  - 顯示比分（已完成時）
  - 勝者有橘色高亮
- **點擊**：進入計分畫面

**輪空場次**：

- **選手顯示**：
  - 有對手：「王小明」
  - 無對手：「--- 本輪輪空 ---」
- **狀態**：已完成
- **提示**：✓ 本場次無對手，已自動晉級下一輪
- **點擊**：可點擊但不需要計分（已自動完成）

**待晉級場次**：

- **選手顯示**：「待晉級」
- **狀態**：等待選手
- **提示**：⏳ 等待對手從上一輪晉級
- **點擊**：可點擊但無法開始（等待選手）

### 即時更新

- 當其他紀錄員完成比賽
- 頁面自動更新顯示晉級結果
- 不需要手動重新整理

---

## 3. 選手視角

**位置**：賽事詳情 → 賽程 Tab  
**路由**：`/events/:id` → 賽程 Tab  
**使用組件**：`BracketView`（與主辦方相同）

### 顯示內容

與主辦方視角相同，但：

- ✅ 只能查看，不能編輯
- ✅ 看到自己的比賽會自動高亮
- ✅ 可以追蹤自己的晉級路徑

---

## 文案優化對照表

| 情況             | 舊文案          | 新文案                           | 說明             |
| ---------------- | --------------- | -------------------------------- | ---------------- |
| 輪空位（無對手） | 輪空 (BYE)      | --- 本輪輪空 ---                 | 更清楚的中文描述 |
| 待晉級（還沒人） | 選手 1 / 選手 2 | 待晉級                           | 明確表示等待中   |
| 輪空已完成       | 🎯 輪空自動晉級 | ✓ 本場次無對手，已自動晉級下一輪 | 完整說明情況     |
| 輪空未完成       | （無提示）      | ⏳ 等待對手晉級                  | 說明為何還在等待 |

---

## 狀態標籤顏色系統

| 狀態             | 標籤文字 | 顏色    | 說明                     |
| ---------------- | -------- | ------- | ------------------------ |
| `PENDING_PLAYER` | 等待選手 | ⚪ 灰色 | 還沒有選手晉級到此場次   |
| `PENDING_COURT`  | 等待場地 | 🟡 黃色 | 選手已到齊，等待場地分配 |
| `SCHEDULED`      | 已排程   | 🔵 藍色 | 已分配場地，準備開始     |
| `IN_PROGRESS`    | 進行中   | 🟠 橘色 | 比賽正在進行             |
| `COMPLETED`      | 已完成   | 🟢 綠色 | 比賽已結束               |

---

## 使用場景範例

### 場景 1：8 人單淘汰（無輪空）

**第一輪**：4 場比賽

- 比賽 1：王小明 vs 李小華 → 已排程
- 比賽 2：陳大明 vs 林小美 → 已排程
- 比賽 3：張三 vs 李四 → 進行中
- 比賽 4：王五 vs 趙六 → 已完成

**準決賽**：2 場比賽

- 比賽 5：待晉級 vs 待晉級 → 等待選手
- 比賽 6：待晉級 vs 趙六 → 等待選手

**決賽**：1 場比賽

- 比賽 7：待晉級 vs 待晉級 → 等待選手

---

### 場景 2：3 人單淘汰（含 1 個輪空）

**第一輪**：2 場比賽

- 比賽 1：王小明 vs --- 本輪輪空 --- → 已完成
  - 提示：✓ 本場次無對手，已自動晉級下一輪
- 比賽 2：李小華 vs 陳大明 → 進行中

**決賽**：1 場比賽

- 比賽 3：王小明 vs 待晉級 → 等待選手
  - 王小明已經在位（輪空晉級）
  - 等待比賽 2 的勝者

---

### 場景 3：7 人單淘汰 + 季軍賽

**第一輪**：4 場比賽

- 3 場正常比賽
- 1 場輪空比賽（已自動完成）

**準決賽**：2 場比賽

- 比賽 5：A vs B
- 比賽 6：C vs D

**季軍賽**：1 場比賽

- 比賽 7：待晉級 vs 待晉級
  - 提示：⏳ 等待準決賽敗者

**決賽**：1 場比賽

- 比賽 8：待晉級 vs 待晉級
  - 提示：⏳ 等待準決賽勝者

---

## 用戶體驗優化

### 清晰的視覺層次

1. **狀態顏色**：一眼看出比賽進行到哪個階段
2. **選手名稱**：真實姓名 vs 待晉級 vs 輪空
3. **提示訊息**：說明當前狀態原因

### 即時反饋

- 比賽完成後，下一場立即更新
- 不需要手動重新整理
- 勝者自動出現在下一場

### 友善文案

- ❌ 避免：「BYE」、「null」、「undefined」
- ✅ 使用：「本輪輪空」、「待晉級」、「等待對手晉級」

---

## 測試建議

### 主辦方測試

1. 建立 3 人單淘汰賽
2. 發布賽程
3. 查看賽程管理 Tab
4. 確認：
   - ✓ 輪空場次顯示「本輪輪空」
   - ✓ 提示訊息清楚
   - ✓ 輪空場次已自動完成（綠色）
   - ✓ 決賽中一位選手已在位，另一位顯示「待晉級」

### 紀錄員測試

1. 訪問賽事場次總覽
2. 查看所有場次
3. 確認：
   - ✓ 輪空場次不可點擊進入計分（或點擊後顯示已完成）
   - ✓ 文案清楚易懂
   - ✓ 完成一場比賽後，下一場自動更新顯示選手名稱

### 選手測試

1. 查看賽事詳情的賽程 Tab
2. 確認：
   - ✓ 看到自己的名字
   - ✓ 輪空文案清楚
   - ✓ 可以追蹤自己的晉級路徑

---

**所有文案已優化完成！** 🎊
