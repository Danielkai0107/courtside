# 移除自訂分組功能

## 🎯 設計理念調整

### 原本的設計（過於複雜）

```
智能推薦方案 A、B、C
  +
自訂分組（分組數、每組取前）
  +
驗證邏輯
  +
錯誤處理

→ 過於複雜，違背「傻瓜模式」
```

### 新的設計（簡化）

```
智能推薦 2-3 個方案
  ↓
主辦方選一個
  ↓
發布

→ 簡單、直覺、不會錯
```

## 📊 為什麼移除自訂分組？

### 1. 智能推薦已經很完整

```
20 人 → 推薦：
  方案 A：4 組 → 8 強（推薦）
  方案 B：5 組 → 8 強

13 人 → 推薦：
  方案 A：4 組 → 8 強
  方案 B：3 組 → 8 強

→ 涵蓋了大部分情況
→ 已經是最佳方案
```

### 2. 自訂容易出錯 ❌

```
主辦方可能輸入：
  - 3 組 x 取前 2 = 6 人晉級 ❌（不是 2 的次方）
  - 2 組 x 取前 4 = 8 人晉級 ✓（但每組可能只有 5 人）

→ 需要複雜的驗證
→ 錯誤訊息難以理解
→ 增加學習成本
```

### 3. 違背「傻瓜模式」理念 ❌

```
目標：讓不懂數學的主辦方也能輕鬆辦賽事

自訂分組：
  - 需要理解「晉級總數必須是 2 的次方」
  - 需要計算每組人數
  - 需要理解分組平衡

→ 違背設計初衷
```

### 4. 使用率低 ❌

```
實務上：
  - 90% 的主辦方會選擇推薦方案
  - 5% 的會接受自動降級
  - 只有 5% 可能需要自訂

→ 為了 5% 的使用者增加 100% 的複雜度
→ 不值得
```

## 🗑️ 已移除的內容

### 1. 狀態變數

```typescript
// 已刪除
const [customGroups, setCustomGroups] = useState(4);
const [customAdvance, setCustomAdvance] = useState(2);
```

### 2. 處理函數

```typescript
// 已刪除整個函數（約 40 行）
const handleCustomConfig = () => { ... }
```

### 3. UI 區域

```typescript
// 已刪除整個區塊（約 50 行）
<div className={styles.customConfig}>
  <h5>自訂分組</h5>
  <input> 分組數
  <input> 每組取前
  <Button> 套用
</div>
```

### 4. 導入

```typescript
// 已移除
import { validateGroupConfig } from "../../services/groupingService";
```

## 🎨 簡化後的 UI

### 有推薦方案

```
┌────────────────────────────────┐
│ 分組方案                       │
├────────────────────────────────┤
│ 方案 A（推薦）✓               │
│ 4 組循環賽，各取前 2 名 → 8 強│
│ 總場次：26 場                  │
├────────────────────────────────┤
│ 方案 B                         │
│ 5 組循環賽，各取第 1 名...    │
│ 總場次：23 場                  │
└────────────────────────────────┘

清晰、簡潔
```

### 無推薦方案（人數不足）

```
┌────────────────────────────────┐
│ 分組方案                       │
├────────────────────────────────┤
│ 參賽者人數不足              │
│                                │
│ 小組賽至少需要 4 位參賽者，    │
│ 目前僅有 3 位。                │
│                                │
│ 點擊「發布賽程」時，系統將自動 │
│ 改用純淘汰賽。                 │
│                                │
│ 📊 預計：3 人純淘汰，2 場比賽  │
└────────────────────────────────┘

自動降級，不需手動設定
```

## ✨ 簡化的優點

### 1. 用戶體驗更好

```
主辦方看到：
  - 2-3 個推薦方案
  - 清楚的描述
  - 預計場次

操作：
  - 點一下選擇
  - 點發布

→ 簡單、不會錯
```

### 2. 符合「傻瓜模式」

```
不需要懂：
  ✗ 2 的次方
  ✗ 分組平衡
  ✗ 晉級規則

只需要：
  ✓ 選一個推薦方案

→ 真正的「傻瓜模式」
```

### 3. 減少錯誤

```
移除自訂 = 移除出錯可能
  - 不會輸入錯誤參數
  - 不會產生無效配置
  - 系統保證正確
```

### 4. 代碼更簡潔

```
移除：
  - 2 個狀態變數
  - 1 個處理函數（40 行）
  - 1 個 UI 區塊（50 行）
  - 1 個導入

總計：約 90 行代碼
```

## 📋 修改清單

### 修改文件

- `src/components/features/CategoryPublisher.tsx`
- 刪除 customGroups, customAdvance 狀態
- 刪除 handleCustomConfig 函數
- 刪除自訂分組 UI 區塊
- 刪除無推薦方案時的額外警告
- 移除 validateGroupConfig 導入

### 部署狀態

- 已構建
- 已部署
- 線上網址：https://courtside-25c9e.web.app

## 🎊 完成

**自訂分組功能已移除，UI 更簡潔！**

- 只顯示智能推薦方案
- 人數不足自動降級
- 操作更簡單
- 不會出錯
- 真正的「傻瓜模式」

**完全符合「系統幫你想好，你只需要選」的設計理念！** 🎯✨

---

**修改日期**: 2024 年 12 月 21 日  
**變更**: 移除自訂分組功能  
**原因**: 簡化操作，符合傻瓜模式  
**狀態**: 已完成並部署
