# 紀錄員導航流程重新設計

## 🎯 設計理念

**簡化導航層級，避免三層 Tabs 過於複雜**

## 🔄 導航流程對比

### 舊版（三層 Tabs，太複雜）❌
```
ScorerHome
  ↓ 點擊賽事
TournamentMatches
  ├─ Category Tabs: [男子雙打] [女子單打]  ← 第一層
  └─ Main Tabs: [小組] [對陣圖] [球員]     ← 第二層
      └─ Bracket Sub-tabs: [QF] [SF] [FI]  ← 第三層
          ↓ 點擊比賽
      計分頁面
```

**問題**：
- ❌ 三層 Tabs 太複雜
- ❌ 操作路徑太長
- ❌ 容易迷失方向

### 新版（兩層導航，清晰）✅
```
ScorerHome
  ├─ Tabs: [正在進行] [過去記錄]  ← 第一層
  └─ 賽事卡片列表
      ↓ 點擊賽事
TournamentMatches（類別列表）
  ├─ 賽事資訊
  └─ 類別卡片列表
      ↓ 點擊類別
ScorerCategoryDetail
  ├─ Main Tabs: [小組] [對陣圖] [球員]  ← 第二層
  └─ Bracket Sub-tabs: [QF] [SF] [FI]    ← 第三層（但在子頁面）
      ↓ 點擊比賽
計分頁面
```

**改進**：
- ✅ 每個頁面最多兩層 Tabs
- ✅ 導航路徑清晰
- ✅ 符合用戶心智模型

## 🎨 完整流程圖

```
┌─────────────────────────────────┐
│ ScorerHome（我的賽事）          │
├─────────────────────────────────┤
│ Tabs: [正在進行] [過去記錄]    │
├─────────────────────────────────┤
│ ┌─ 錦標賽 test01 ──────────┐   │
│ │ 2025/12/27                │   │
│ │ 匹克球                    │   │
│ └───────────────────────────┘   │
│         ↓ 點擊                  │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ TournamentMatches（類別列表）   │
├─────────────────────────────────┤
│ 賽事資訊                        │
│ 日期：2025/12/27                │
│ 地點：台北體育館                │
│ 分類數量：2 個                  │
├─────────────────────────────────┤
│ 比賽分類                        │
│                                 │
│ ┌─ 男子雙打 ──────────────┐    │
│ │ 雙打                     │    │
│ │ 16/16 參賽 • 5/26 場已完成│   │
│ └──────────────────────────┘    │
│         ↓ 點擊類別              │
│                                 │
│ ┌─ 女子雙打 ──────────────┐    │
│ │ 雙打                     │    │
│ │ 10/16 參賽 • 0/15 場已完成│   │
│ └──────────────────────────┘    │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ ScorerCategoryDetail（男子雙打）│
├─────────────────────────────────┤
│ Tabs: [小組] [對陣圖] [球員]   │
├─────────────────────────────────┤
│ === 小組 Tab ===                │
│ Group A          [查看比賽 →]   │
│ 積分榜（PTS, W, L, PD）        │
│         ↓ 點擊查看比賽          │
│ 展開比賽列表                    │
│         ↓ 點擊比賽              │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ ScoringConsole（計分頁面）      │
│ 記錄比分                        │
└─────────────────────────────────┘
```

## 📦 實施內容

### 1. ScorerHome（首頁）⭐ 新增 Tabs

**新增功能**：
- ✅ Tabs: [正在進行] [過去記錄]
- ✅ 過濾賽事狀態
- ✅ 點擊賽事 → TournamentMatches

**狀態過濾**：
```typescript
正在進行：
  - ONGOING
  - REGISTRATION_CLOSED
  - REGISTRATION_OPEN

過去記錄：
  - COMPLETED
```

### 2. TournamentMatches（類別列表）⭐ 簡化

**改為顯示**：
- ✅ 賽事資訊（日期、地點、分類數）
- ✅ 類別卡片列表
- ✅ 每個類別顯示：
  - 名稱
  - 類型（單打/雙打）
  - 參賽進度（16/16）
  - 比賽進度（5/26 場已完成）
- ✅ 點擊類別 → ScorerCategoryDetail

**移除**：
- ❌ Category Tabs（改為卡片列表）
- ❌ Main Tabs（移到下一層）
- ❌ 複雜的比賽顯示

### 3. ScorerCategoryDetail（分類詳情）⭐ 新增

**功能**：
- ✅ 複用 CategoryDetail 的 UI 和樣式
- ✅ Main Tabs: [小組] [對陣圖] [球員]
- ✅ 小組積分榜
- ✅ 對陣圖分輪次
- ✅ **點擊比賽 → 計分頁面**（關鍵差異）

**路由**：
```
/scorer/tournaments/:id/categories/:categoryId
```

## 🎯 用戶體驗改進

### 優點

1. **層級清晰** ✅
   ```
   首頁 → 類別列表 → 分類詳情 → 計分
   每一步都很明確
   ```

2. **減少 Tabs** ✅
   ```
   每個頁面最多 2 層 Tabs
   不會有 3 層 Tabs 的混亂
   ```

3. **快速導航** ✅
   ```
   首頁直接看到所有賽事
   類別列表直接看到進度
   點擊即可進入詳情
   ```

4. **符合心智模型** ✅
   ```
   賽事 → 類別 → 比賽
   符合自然的思考邏輯
   ```

## 📊 頁面對照表

| 頁面 | 角色 | 主要內容 | 點擊動作 |
|------|------|----------|----------|
| **Home** | 選手 | 賽事列表 | → EventDetail |
| **EventDetail** | 選手 | 類別卡片 | → CategoryDetail |
| **CategoryDetail** | 選手 | 小組/對陣圖 | 查看詳情 |
| **ScorerHome** | 紀錄員 | 賽事列表 + Tabs | → TournamentMatches |
| **TournamentMatches** | 紀錄員 | 類別卡片 | → ScorerCategoryDetail |
| **ScorerCategoryDetail** | 紀錄員 | 小組/對陣圖 | → **計分頁面** ⭐ |

## 🔗 路由結構

### 選手路由
```
/events                           # 賽事列表
/events/:id                       # 賽事詳情（類別列表）
/events/:id/categories/:categoryId  # 分類詳情（小組/對陣圖）
```

### 紀錄員路由
```
/scorer                           # 我的賽事（+ Tabs）
/scorer/tournaments/:id           # 類別列表
/scorer/tournaments/:id/categories/:categoryId  # 分類詳情
/scorer/matches/:id               # 計分頁面
```

## 📋 修改清單

### 新增文件（1 個）
- ✅ `src/pages/scorer/ScorerCategoryDetail.tsx`

### 修改文件（4 個）
- ✅ `src/pages/scorer/ScorerHome.tsx`
  - 添加 Tabs（正在進行/過去記錄）
  - 添加狀態過濾

- ✅ `src/pages/scorer/TournamentMatches.tsx`
  - 簡化為類別列表頁面
  - 顯示賽事資訊
  - 顯示類別卡片
  - 移除複雜的 Tabs

- ✅ `src/pages/scorer/TournamentMatches.module.scss`
  - 添加類別列表樣式
  - 添加類別卡片樣式

- ✅ `src/App.tsx`
  - 添加 ScorerCategoryDetail 路由

## ✅ 測試流程

### 紀錄員完整操作流程

```
1. 登入紀錄員帳號
2. 進入「我的賽事」
3. 看到 Tabs: [正在進行] [過去記錄]
4. 切換到「正在進行」
5. 看到賽事卡片：錦標賽 test01
6. 點擊賽事卡片
   ↓
7. 進入類別列表頁面
8. 看到賽事資訊和類別卡片
9. 點擊「男子雙打」類別
   ↓
10. 進入分類詳情頁面
11. 看到 Tabs: [小組] [對陣圖] [球員]
12. 點擊「小組」Tab
13. 看到 Group A, B 的積分榜
14. 點擊「查看比賽」
15. 展開比賽列表
16. 點擊某場比賽
    ↓
17. 進入計分頁面
18. 記錄比分 ✅
```

## 🎊 完成

**紀錄員導航流程已完全優化！**

- ✅ 簡化為兩層導航
- ✅ 每個頁面 Tabs 不超過 2 層
- ✅ 路徑清晰易懂
- ✅ 與選手視角UI一致
- ✅ 點擊比賽進入計分
- ✅ 符合用戶心智模型

**導航更簡潔，操作更直覺！** 🚀

---

**實施日期**: 2024年12月21日  
**狀態**: ✅ 已完成  
**影響**: 紀錄員體驗大幅提升

